{% if site.heimspiele.size > 0 %}
<section id="heimspiele" class="py-5">
  <div class="container">
    <div class="row">
      
      <div class="col-12 text-center text-lg-start">
        <h3 class="cta-title">Wir laden ein zum Heimspiel!</h3>
        <p class="cta-text mb-1">
          In den kommenden Tagen spielen wir in Müllheim und freuen uns über jeden Zuschauer!
        </p>
      </div>

      {% assign heimspiele_sortiert = (site.heimspiele | sort: 'datetime') %}

      {% for match in heimspiele_sortiert%}
        {% assign patchstring1 = match.date | append: match.location_name | append: match.location_street %}
        {% assign patchstring2 = match.league | append: match.league | append: match.date | append: match.location_street %}
        {% assign patchstring3 = match.league | append: match.league | append: match.date | append: match.location_street | append: match.opponent %}

          {% unless heimspiel_liste contains patchstring1 %}
              {% assign heimspiel_liste = heimspiel_liste | append: patchstring1 %}
              {% assign gmaps_query = match.location_name | append: ',' | append: match.location_street | append: ',' | append: match.location_postal | append: ' ' | append: match.location_city %}

              <div class="col-12">
                <h4 class="mt-4 mb-0">{{ match.date | date: "%d.%m" }}<span>{{ match.date | date: ".%Y" }}</span> in <a href="https://www.google.com/maps/search/?api=1&query={{ gmaps_query | url_encode }}" target="_blank" rel="noopener">{{ match.location_name }}<span class="d-none d-md-inline">, {{ match.location_street }}</span></a></h4>
              </div>
          {% endunless %}

            
          {% unless heimspiel_liste2 contains patchstring2 %}
            <p class="mb-1 pe-2"><strong>{{ match.league }}{% unless match.time == "00:00" %} ab {{ match.time }} Uhr{% endunless %}</strong></p>
          {% endunless %}
          {% assign heimspiel_liste2 = heimspiel_liste2 | append: patchstring2 %}

          {% unless heimspiel_liste3 contains patchstring3 %}
            <p class="ms-3 mb-0">Gast: {{ match.opponent }}</p>
          {% endunless %}
          {% assign heimspiel_liste3 = heimspiel_liste3 | append: patchstring3 %}


        {% endfor %}


    </div>

  </div>
</section>

{% else %} <!-- fallback to always have a visual seperator between sections on the homepage -->
{% include home-corona-und-sport.html %}
{% endif %}